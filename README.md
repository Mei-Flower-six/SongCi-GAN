项目简介
SongCiGAN是一个基于生成对抗网络（GAN）的宋词自动生成工具。该系统通过深度学习模型学习古典宋词的格律、意象和语义特征，能够根据用户输入的关键词（如“春”“秋”“月”“乡思”等）生成符合词牌格律、意境优美的宋词。

项目核心是一个增强型Seq2Seq GAN模型，结合了词牌格律约束、主题意象库和重复字控制机制，生成的作品兼顾文学性和格律规范性，适合古典文学爱好者、研究者或作为NLP与古典文学交叉领域的学习案例。

核心特性
关键词驱动生成：支持输入主题关键词（如“春”“秋”“月”），生成贴合主题的宋词。
词牌格律约束：内置《浣溪沙》《蝶恋花》《临江仙》等经典词牌的格律规则（句数、每句字数）。
主题意象库：包含“春”“秋”“月”“乡思”等主题的经典意象（如“春”关联“柳岸”“莺啼”“杏雨”），增强生成文本的文学性。
抗重复机制：通过重复字损失函数控制高频字的过度使用，提升文本流畅度。
后处理优化：对生成结果进行句式调整、标点添加和意象增强，优化输出质量。
混合精度训练：支持GPU加速，训练过程中自动处理内存溢出问题。


环境依赖
Python 3.8+
PyTorch 1.8+
torchvision 0.9+ 
numpy 1.19+
pandas 1.3+
matplotlib 3.4+
Pillow 8.0+
tqdm 4.62+

安装命令：
```bash
pip install torch torchvision numpy pandas matplotlib pillow tqdm
```

数据集结构
系统需要宋词语料库进行训练，数据集需按以下结构存放：
data/
└── 宋词/                 存放宋词JSON文件的目录
    ├── songci_1.json     宋词数据文件（JSON格式）
    ├── songci_2.json
    ...

JSON文件格式：每个文件为包含多首宋词的列表，单首词格式如下：
```json
{
  "paragraphs": ["寒蝉凄切，对长亭晚", "骤雨初歇..."],   词的内容（分句列表）
  "author": "柳永",                                       作者
  "rhythmic": "雨霖铃"                                    词牌名
}
```

快速开始
1. 准备数据集
- 将宋词语料库的JSON文件放入`data/宋词/`目录下（可自行收集或使用公开语料）。

 2. 运行程序
```bash
python main.py   假设代码主文件为main.py
```

 3. 生成宋词
程序运行后，在交互界面输入关键词（如“春”“月”“乡思”），即可生成对应的宋词：
```
请输入关键词(如'春','秋','月','乡思'等): 秋

生成宋词中(关键词: '秋')...

《满江红·秋》

昨夜秋长。
秋入秋风。
秋风急雨横， 暮烟寒。
翠袖轻寒， 烟里斜阳。
回首江南。
不见秋思。
正好心、都著一襟。
且醉歌、醉墨香浮。
看明朝、长在春风。

醉花何处， 醉舞歌声， 一笑无人。
便留春住， 何处归来。
醉去东风。
不管春风。
似故园、一种柳阴。
人憔悴、似春心。
便不堪、谁与柳梢。
